#N canvas 0 23 1280 710 12;
#X declare -path ./abs;
#X declare -path ./abs/scenes;
#X obj 1655 826 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 1655 850 metro 50;
#X obj 1655 874 tabwrite~ \$0-scope;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-scope 441 float 0;
#X coords 0 1 440 -1 200 140 1;
#X restore 1653 678 graph;
#X obj 881 100 hradio 19 1 0 7 \$0-emotion-s \$0-emotion-r EEG\ Emotion 0 -10 0 12 #00faff #000000 #000000 0;
#X obj 881 211 i;
#X obj 881 182 t f b;
#X obj 881 322 i;
#X obj 881 293 t f b;
#X obj 881 124 t f f;
#X obj 1271 217 sel 0;
#X obj 1167 280 tabread \$0-emotionAcum;
#X obj 1167 304 + 1;
#X obj 1303 241 t f f;
#X obj 1177 333 tabwrite \$0-emotionAcum;
#X obj 140 45 declare -path ./abs;
#X obj 140 75 declare -path ./abs/scenes;
#X obj 796 914 dac~ 1;
#X obj 896 914 dac~ 2;
#X obj 896 880 else/drive~;
#X obj 796 880 else/drive~;
#X obj 1299 548 _main-Love \$0;
#X obj 666 630 catch~ \$0-emotionAudio;
#X obj 1299 578 _main-Hate \$0;
#X obj 1299 698 _main-sadness \$0;
#X obj 1299 638 _main-Admiration \$0;
#X obj 1299 608 _main-Desire \$0;
#X obj 1299 668 _main-Joy \$0;
#X text 1050 113 0 = Other \; 1 = Love \; 2 = Hate \; 3 = Desire \; 4 = Admiration \; 5 = Joy \; 6 = Sadness \;;
#X obj 1528 186 text define -k \$0-scales;
#A set none 0 0 0 0 0 0 0 \; love 0 2 4 5 7 9 11 \; hate 0 1 3 5 7 8 10 \; desire 0 2 4 5 7 9 11 \; sadness 0 2 3 5 7 8 10 \; joy 0 2 4 5 7 9 10 \; admiration 0 2 4 6 7 9 11 \;;
#X obj 881 235 t f f;
#X obj 1414 279 array define -k -yrange 0 11 \$0-scale 7;
#A 0 0 2 4 6 7 9 11;
#X obj 1377 221 list split 1;
#X obj 1377 173 r \$0-emotion-1;
#X obj 1377 197 text get \$0-scales;
#X obj 881 351 s \$0-emotion-3;
#X obj 913 264 s \$0-emotion-2;
#X obj 913 153 s \$0-emotion-1;
#X obj 1417 245 array set \$0-scale;
#X obj 121 795 oscparse;
#X obj 121 766 netreceive -u -b 5003;
#X obj 121 863 route mouth;
#X obj 121 839 list trim;
#X obj 121 887 clip 0.002 0.02;
#X obj 121 911 else/rescale 0.002 0.02 0 127;
#X obj 656 136 hradio 19 1 0 7 \$0-faceEmotion-s \$0-faceEmotion-r Face\ Emotion 0 -10 0 12 #00faff #000000 #000000 0;
#X listbox 656 160 20 0 0 0 - - - 0;
#X obj 796 840 *~ 1;
#X floatatom 1152 47 5 0 0 0 - - - 0;
#X floatatom 1098 50 5 0 0 0 - - - 0;
#X floatatom 1044 49 5 0 0 0 - - - 0;
#X obj 121 935 s \$0-mouth;
#X obj 826 796 r~ \$0-voice;
#N canvas 0 89 1280 641 voz 0;
#X msg 425 91 open ./voz.wav \, start;
#X obj 425 124 readsf~;
#X msg 308 98 stop;
#X obj 588 492 else/plate.rev~;
#X obj 588 526 +~;
#X obj 667 190 hsl 162 19 0 127 0 1 empty empty Boca -2 -10 0 12 #00ff04 #000000 #000000 0 1;
#X obj 664 218 / 127;
#X obj 664 295 mtof;
#X obj 664 319 else/f2s~ 100;
#N canvas -1558 231 1188 566 fear 0;
#X obj 108 356 audiolab/pp.fft-timbre~ 512 4;
#A saved empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \;;
#X obj 108 299 else/highpass~ 300 0.4;
#X obj 281 285 loadbang;
#X obj 108 427 else/lowpass~ 4000 0.4;
#X obj 108 328 else/highpass~ 1000 0.4;
#X msg 281 313 curve-1 330 \, breakpoint-1 47 \, curve-2 533 \, breakpoint-2 26 \, rotate -78 \, shift 375 \, gain 20 \, dry/wet 90;
#X obj 108 398 else/highshelf~ 3000 0.4 9;
#X obj 910 485 switch~;
#X obj 718 414 line~;
#X obj 718 366 pow 2;
#X obj 718 437 sqrt~;
#X obj 878 366 sel 0;
#X msg 878 456 0;
#X msg 898 402 stop;
#X obj 108 456 *~;
#X obj 197 520 outlet~;
#X msg 718 390 \$1 100;
#X obj 878 431 delay 100;
#X obj 718 342 == 1;
#X obj 878 342 == 1;
#X obj 718 318 r \$0-faceEmotion-s;
#X obj 878 318 r \$0-faceEmotion-s;
#X obj 239 55 r \$0-sampleSize;
#X obj 193 211 tabread4~ voz;
#X obj 106 155 phasor~;
#X obj 239 79 t f f;
#X msg 104 55 44100 \$1;
#X obj 104 79 /;
#X obj 152 186 *~;
#X floatatom 347 79 5 0 0 0 - - - 0;
#X obj 347 102 + 69;
#X obj 347 126 mtof;
#X obj 347 150 / 440;
#X obj 446 160 * -100;
#X obj 104 126 *~ 0.8;
#X obj 473 230 audiolab/pp.fft-pitchshift~;
#A saved empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \;;
#X msg 646 201 transposition \$1;
#X obj 556 62 loadbang;
#X msg 556 86 -6;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 14 0;
#X connect 4 0 0 0;
#X connect 5 0 0 1;
#X connect 6 0 3 0;
#X connect 8 0 10 0;
#X connect 9 0 16 0;
#X connect 10 0 14 1;
#X connect 11 0 17 0;
#X connect 11 1 13 0;
#X connect 11 1 7 0;
#X connect 12 0 7 0;
#X connect 13 0 17 0;
#X connect 14 0 15 0;
#X connect 16 0 8 0;
#X connect 17 0 12 0;
#X connect 18 0 9 0;
#X connect 19 0 11 0;
#X connect 20 0 18 0;
#X connect 21 0 19 0;
#X connect 22 0 25 0;
#X connect 23 0 35 0;
#X connect 24 0 28 0;
#X connect 25 0 26 0;
#X connect 25 1 28 1;
#X connect 26 0 27 0;
#X connect 27 0 34 0;
#X connect 28 0 23 0;
#X connect 29 0 30 0;
#X connect 29 0 33 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 34 1;
#X connect 33 0 36 0;
#X connect 34 0 24 0;
#X connect 35 0 1 0;
#X connect 36 0 35 2;
#X connect 37 0 38 0;
#X connect 38 0 29 0;
#X restore 62 251 pd fear;
#N canvas 278 181 755 552 sadness 0;
#X obj 38 339 delread4~ \$0-vibrato;
#X obj 183 200 *~ 2;
#X obj 183 224 -~ 1;
#X obj 345 156 loadbang;
#X msg 345 180 1;
#X obj 345 204 metro 100;
#X obj 345 228 t b b;
#X obj 434 218 t f f;
#X obj 345 330 pack f f;
#X obj 345 280 + 100;
#X obj 345 304 dbtorms;
#X obj 345 354 line~;
#X obj 38 373 *~;
#X obj 434 194 rand.f 100 200;
#X obj 38 240 osc~ 5;
#X obj 111 242 osc~ 0.9;
#X obj 345 256 else/rand.f -6 9;
#X obj 38 96 loadbang;
#X msg 38 120 1;
#X obj 38 216 line~;
#X obj 38 143 metro 500;
#X msg 38 192 \$1 500;
#X obj 183 171 phasor~ 0.5;
#X obj 183 254 else/lowpass~ 0.5 0.4;
#X obj 38 33 inlet~;
#X obj 38 310 +~ 90;
#X obj 650 456 switch~;
#X obj 458 385 line~;
#X obj 458 337 pow 2;
#X obj 458 408 sqrt~;
#X obj 618 337 sel 0;
#X msg 618 427 0;
#X msg 638 373 stop;
#X obj 38 427 *~;
#X obj 38 466 outlet~;
#X obj 38 57 delwrite~ \$0-vibrato 120;
#X msg 458 361 \$1 100;
#X obj 618 402 delay 100;
#X obj 458 313 == 6;
#X obj 618 313 == 6;
#X obj 38 269 *~ 2;
#X obj 183 281 *~ 60;
#X obj 111 266 *~ 5;
#X obj 38 168 rand.f 5 6.5;
#X obj 458 288 r \$0-faceEmotion-s;
#X obj 618 289 r \$0-faceEmotion-s;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 23 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 16 0;
#X connect 6 1 13 0;
#X connect 7 0 5 1;
#X connect 7 1 8 1;
#X connect 8 0 11 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 12 1;
#X connect 12 0 33 0;
#X connect 13 0 7 0;
#X connect 14 0 40 0;
#X connect 15 0 42 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 14 0;
#X connect 20 0 43 0;
#X connect 21 0 19 0;
#X connect 22 0 1 0;
#X connect 23 0 41 0;
#X connect 24 0 35 0;
#X connect 25 0 0 0;
#X connect 27 0 29 0;
#X connect 28 0 36 0;
#X connect 29 0 33 1;
#X connect 30 0 37 0;
#X connect 30 1 32 0;
#X connect 30 1 26 0;
#X connect 31 0 26 0;
#X connect 32 0 37 0;
#X connect 33 0 34 0;
#X connect 36 0 27 0;
#X connect 37 0 31 0;
#X connect 38 0 28 0;
#X connect 39 0 30 0;
#X connect 40 0 25 0;
#X connect 41 0 25 0;
#X connect 42 0 25 0;
#X connect 43 0 21 0;
#X connect 44 0 38 0;
#X connect 45 0 39 0;
#X restore 452 251 pd sadness;
#N canvas 299 144 786 589 disgust 0;
#N canvas 352 24 545 673 fft-analysis 0;
#X obj 92 534 *~;
#X obj 53 534 *~;
#X obj 330 325 *~;
#X obj 298 325 *~;
#X obj 298 351 +~;
#X obj 53 176 *~;
#X obj 53 151 inlet~;
#X obj 53 199 rfft~;
#X obj 53 603 *~;
#X obj 144 238 *~;
#X obj 298 297 rfft~;
#X obj 53 568 rifft~;
#X obj 53 636 outlet~;
#X obj 110 238 *~;
#X obj 110 261 +~;
#X text 379 355 modulus;
#X obj 110 443 *~;
#X obj 357 459 block~ 1024 4;
#X obj 110 391 clip~;
#X obj 86 177 tabreceive~ \$0-hann;
#X obj 356 499 loadbang;
#X obj 143 342 r squelch;
#X obj 142 365 expr 0.01*$f1*$f1;
#X obj 110 287 +~ 1e-20;
#X obj 110 503 *~ 0.00065;
#X obj 86 603 tabreceive~ \$0-hann;
#X obj 298 268 *~;
#X obj 298 239 inlet~;
#X obj 331 269 tabreceive~ \$0-hann;
#X text 379 372 of control;
#X text 377 389 amplitude;
#X text 187 242 reciprocal;
#X text 190 261 modulus of;
#X text 186 281 filter input;
#X text 187 300 amplitude;
#X text 114 152 filter input;
#X text 363 239 control source;
#X text 360 296 Fourier transform;
#X text 43 19 Internal workings of the timbre stamping algorithm. First the "filter input" is treated as in the compressor patch \, multiplying each channel amplitude by one over its modulus (but limited by the "squelch" parameter.) It is then multiplied by the modulus of the channel amplitude for the control source (which is Fourier analyzed in parallel with the filter input.);
#X text 148 440 multiply the two amplitude;
#X text 146 457 factors (for compression;
#X text 148 473 and to apply new timbre);
#X obj 110 314 rsqrt~;
#X obj 298 374 sqrt~;
#X msg 356 523 \; window-size 1024 \; squelch 100 \;;
#X connect 0 0 11 1;
#X connect 1 0 11 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 43 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 7 0 13 1;
#X connect 7 0 1 0;
#X connect 7 1 9 0;
#X connect 7 1 9 1;
#X connect 7 1 0 0;
#X connect 8 0 12 0;
#X connect 9 0 14 1;
#X connect 10 0 3 0;
#X connect 10 0 3 1;
#X connect 10 1 2 0;
#X connect 10 1 2 1;
#X connect 11 0 8 0;
#X connect 13 0 14 0;
#X connect 14 0 23 0;
#X connect 16 0 24 0;
#X connect 18 0 16 0;
#X connect 19 0 5 1;
#X connect 20 0 44 0;
#X connect 21 0 22 0;
#X connect 22 0 18 2;
#X connect 23 0 42 0;
#X connect 24 0 0 1;
#X connect 24 0 1 1;
#X connect 25 0 8 1;
#X connect 26 0 10 0;
#X connect 27 0 26 0;
#X connect 28 0 26 1;
#X connect 42 0 18 0;
#X connect 43 0 16 1;
#X restore 129 299 pd fft-analysis;
#N canvas 163 152 567 523 hann-window 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array \$0-hann 1024 float 0;
#X coords 0 1 1023 0 300 100 1;
#X restore 110 394 graph;
#X obj 327 184 osc~;
#X obj 327 209 *~ -0.5;
#X obj 327 233 +~ 0.5;
#X obj 310 276 tabwrite~ \$0-hann;
#X obj 86 113 r window-size;
#X obj 157 237 /;
#X obj 175 205 samplerate~;
#X obj 157 315 s window-sec;
#X obj 67 251 swap;
#X obj 67 275 /;
#X obj 67 299 s window-hz;
#X obj 168 265 * 1000;
#X obj 168 292 s window-msec;
#X obj 86 148 t f b f;
#X msg 175 155 resize \$1;
#X obj 175 179 s \$0-hann;
#X obj 279 122 r window-hz;
#X msg 352 154 0;
#X obj 279 150 t f b;
#X text 56 20 calculate Hann window table (variable window size) and constants window-hz (fundamental frequency of analysis) \, window-sec and window-msec (analysis window size in seconds and msec)., f 56;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 14 0;
#X connect 6 0 8 0;
#X connect 6 0 12 0;
#X connect 7 0 6 1;
#X connect 7 0 9 1;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 14 0 6 0;
#X connect 14 0 9 0;
#X connect 14 1 7 0;
#X connect 14 2 15 0;
#X connect 15 0 16 0;
#X connect 17 0 19 0;
#X connect 18 0 1 1;
#X connect 19 0 1 0;
#X connect 19 1 4 0;
#X connect 19 1 18 0;
#X restore 7 315 pd hann-window;
#X obj 174 410 *~;
#X obj 507 372 switch~;
#X obj 629 410 line~;
#X obj 629 362 pow 2;
#X obj 629 434 sqrt~;
#X obj 475 253 sel 0;
#X msg 475 343 0;
#X msg 495 289 stop;
#X msg 629 386 \$1 100;
#X obj 475 318 delay 100;
#X obj 629 338 == 3;
#X obj 475 229 == 3;
#X obj 174 444 *~ 2;
#X obj 174 468 outlet~;
#X obj 629 314 r \$0-faceEmotion-s;
#X obj 475 205 r \$0-faceEmotion-s;
#X obj 261 303 *~ 0.2;
#X obj 129 323 *~ 0.8;
#X obj 119 260 else/pulse~ 10;
#X obj 237 34 r \$0-sampleSize;
#X obj 191 190 tabread4~ voz;
#X obj 104 134 phasor~;
#X obj 237 58 t f f;
#X text 461 31 samples a Hz;
#X msg 102 34 44100 \$1;
#X obj 102 58 /;
#X obj 150 165 *~;
#X floatatom 345 58 5 0 0 0 - - - 0;
#X obj 345 81 + 69;
#X obj 345 105 mtof;
#X obj 345 129 / 440;
#X obj 258 122 * -100;
#X floatatom 345 153 5 0 0 0 - - - 0;
#X obj 102 105 *~ 0.8;
#X obj 190 220 else/pitch.shift~ 0 100;
#X connect 0 0 19 0;
#X connect 2 0 14 0;
#X connect 4 0 6 0;
#X connect 5 0 10 0;
#X connect 6 0 2 1;
#X connect 7 0 11 0;
#X connect 7 1 9 0;
#X connect 7 1 3 0;
#X connect 8 0 3 0;
#X connect 9 0 11 0;
#X connect 10 0 4 0;
#X connect 11 0 8 0;
#X connect 12 0 5 0;
#X connect 13 0 7 0;
#X connect 14 0 15 0;
#X connect 16 0 12 0;
#X connect 17 0 13 0;
#X connect 18 0 2 0;
#X connect 19 0 2 0;
#X connect 20 0 0 0;
#X connect 21 0 24 0;
#X connect 22 0 36 0;
#X connect 22 0 0 1;
#X connect 22 0 18 0;
#X connect 23 0 28 0;
#X connect 24 0 26 0;
#X connect 24 1 28 1;
#X connect 26 0 27 0;
#X connect 27 0 35 0;
#X connect 28 0 22 0;
#X connect 29 0 30 0;
#X connect 29 0 33 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 34 0;
#X connect 32 0 35 1;
#X connect 33 0 36 1;
#X connect 35 0 23 0;
#X restore 202 251 pd disgust;
#N canvas 266 372 1014 323 anger 0;
#X obj 84 129 else/drive~ 60;
#X obj 84 153 hip~ 100;
#X obj 25 27 inlet~;
#X obj 431 243 switch~;
#X obj 239 172 line~;
#X obj 239 124 pow 2;
#X obj 239 196 sqrt~;
#X obj 399 124 sel 0;
#X msg 399 214 0;
#X msg 419 160 stop;
#X obj 84 215 *~;
#X obj 84 239 outlet~;
#X obj 84 80 -~ 0.02;
#X msg 239 148 \$1 100;
#X obj 399 189 delay 100;
#X obj 239 70 == 2;
#X obj 399 100 == 2;
#X obj 84 176 *~ 0.1;
#X obj 24 176 *~ 0.05;
#X obj 239 46 r \$0-faceEmotion-s;
#X obj 399 76 r \$0-faceEmotion-s;
#X obj 85 105 else/eq~ 2000 100 10;
#X obj 25 51 else/pitch.shift~ -300;
#X obj 239 94 * 0.5;
#X connect 0 0 1 0;
#X connect 1 0 17 0;
#X connect 2 0 22 0;
#X connect 4 0 6 0;
#X connect 5 0 13 0;
#X connect 6 0 10 1;
#X connect 7 0 14 0;
#X connect 7 1 9 0;
#X connect 7 1 3 0;
#X connect 8 0 3 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 12 0 21 0;
#X connect 13 0 4 0;
#X connect 14 0 8 0;
#X connect 15 0 23 0;
#X connect 16 0 7 0;
#X connect 17 0 10 0;
#X connect 18 0 10 0;
#X connect 19 0 15 0;
#X connect 20 0 16 0;
#X connect 21 0 0 0;
#X connect 22 0 12 0;
#X connect 22 0 18 0;
#X connect 23 0 5 0;
#X restore 132 251 pd anger;
#N canvas 341 395 677 292 happiness 0;
#X obj 12 70 audiolab/pp.fft-pitchshift~;
#A saved empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \; empty_slot \;;
#X obj 185 12 loadbang;
#X obj 12 41 inlet~;
#X obj 526 194 switch~;
#X obj 344 124 line~;
#X obj 344 76 pow 2;
#X obj 344 147 sqrt~;
#X obj 494 75 sel 0;
#X msg 494 165 0;
#X msg 514 111 stop;
#X obj 12 164 *~;
#X obj 12 188 outlet~;
#X msg 344 100 \$1 100;
#X obj 494 140 delay 100;
#X obj 344 52 == 5;
#X obj 494 51 == 5;
#X obj 344 27 r \$0-faceEmotion-s;
#X obj 494 27 r \$0-faceEmotion-s;
#X msg 185 41 transposition 700;
#X connect 0 0 10 0;
#X connect 1 0 18 0;
#X connect 2 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 10 1;
#X connect 7 0 13 0;
#X connect 7 1 9 0;
#X connect 7 1 3 0;
#X connect 8 0 3 0;
#X connect 9 0 13 0;
#X connect 10 0 11 0;
#X connect 12 0 4 0;
#X connect 13 0 8 0;
#X connect 14 0 5 0;
#X connect 15 0 7 0;
#X connect 16 0 14 0;
#X connect 17 0 15 0;
#X connect 18 0 0 2;
#X restore 362 251 pd happiness;
#X obj 664 271 + 60;
#X obj 664 247 * 75;
#X obj 589 349 else/lowpass~ 4000 0.7;
#X obj 589 378 else/lowpass~ 4000 0.7;
#X obj 589 407 else/lowpass~ 4000 0.7;
#X obj 543 244 + 100;
#X obj 543 268 dbtorms;
#X obj 543 292 else/f2s~ 100;
#X msg 543 148 1 \$1;
#X obj 543 172 -;
#X obj 474 311 *~;
#X msg 939 256 read -resize ./voz.wav voz;
#X obj 1088 287 array define voz;
#X obj 939 280 soundfiler;
#X obj 939 304 s \$0-sampleSize;
#X obj 969 328 v \$0-sampleSize;
#X obj 653 436 loadbang;
#X obj 588 550 s~ \$0-voice;
#X obj 939 227 loadbang;
#X obj 664 141 r \$0-mouth;
#X msg 653 460 wet 0.5 \, size 0.5 \, damp 0.5 \, pre 0;
#N canvas 341 352 754 381 surprise 0;
#X obj 12 41 inlet~;
#X obj 526 274 switch~;
#X obj 344 204 line~;
#X obj 344 156 pow 2;
#X obj 344 227 sqrt~;
#X obj 494 155 sel 0;
#X msg 494 245 0;
#X msg 514 191 stop;
#X obj 12 244 *~;
#X obj 12 268 outlet~;
#X msg 344 180 \$1 100;
#X obj 494 220 delay 100;
#X obj 344 107 r \$0-faceEmotion-s;
#X obj 494 107 r \$0-faceEmotion-s;
#X obj 344 132 == 4;
#X obj 494 131 == 4;
#X connect 0 0 8 0;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 8 1;
#X connect 5 0 11 0;
#X connect 5 1 7 0;
#X connect 5 1 1 0;
#X connect 6 0 1 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 10 0 2 0;
#X connect 11 0 6 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 3 0;
#X connect 15 0 5 0;
#X restore 282 251 pd surprise;
#X obj 543 196 pow 4;
#X obj 543 220 * 12;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 1 0 13 0;
#X connect 1 0 12 0;
#X connect 1 0 35 0;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 31 0;
#X connect 5 0 6 0;
#X connect 6 0 15 0;
#X connect 6 0 22 0;
#X connect 7 0 8 0;
#X connect 8 0 16 1;
#X connect 8 0 17 1;
#X connect 8 0 18 1;
#X connect 9 0 24 0;
#X connect 10 0 24 0;
#X connect 11 0 24 0;
#X connect 12 0 24 0;
#X connect 13 0 24 0;
#X connect 14 0 7 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 3 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 24 1;
#X connect 22 0 23 0;
#X connect 23 0 36 0;
#X connect 24 0 16 0;
#X connect 25 0 27 0;
#X connect 27 0 28 0;
#X connect 30 0 34 0;
#X connect 32 0 25 0;
#X connect 33 0 5 0;
#X connect 34 0 3 0;
#X connect 35 0 24 0;
#X connect 36 0 37 0;
#X connect 37 0 19 0;
#X restore 261 451 pd voz;
#X obj 1219 383 array define \$0-emtionAcum 7;
#X obj 505 340 text define -k \$0-emotionIndexes;
#A set none 0 0 0 \; love 1 -1 1 \; hate -1 -1 1 \; sadness -1 0 -1 \; admiration 0 0 1 \; desire 1 0 0 \; joy 1 0 1 \; generosity 1 1 1 \;;
#X obj 375 352 r \$0-emotion-1;
#X obj 375 376 text get \$0-emotionIndexes;
#X obj 375 400 list split 1;
#X obj 415 429 unpack f f f;
#X obj 415 473 +;
#X obj 445 473 i;
#X obj 525 473 +;
#X obj 555 473 i;
#X obj 645 473 +;
#X obj 675 473 i;
#X msg 719 429 0;
#X text 748 426 reset;
#X obj 364 774 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 364 798 metro;
#X obj 416 721 /;
#X obj 416 745 / 4;
#X obj 416 769 t f f;
#X obj 458 798 s \$0-duracion;
#X obj 364 822 i;
#X obj 404 822 + 1;
#X obj 364 846 s \$0-clock;
#X obj 666 695 *~ 0.25;
#X obj 746 650 catch~ \$0-emotionReverb;
#X obj 746 695 else/plate.rev~;
#X obj 962 652 loadbang;
#X text 357 193 EEG cada 10 segundos para sesiones de 3 minutos;
#X text 357 213 18 emociones maximo;
#X obj 415 497 / 18;
#X obj 525 497 / 18;
#X obj 645 497 / 18;
#X text 685 497 <- normalizacion;
#X obj 415 521 s \$0-valence;
#X obj 525 521 s \$0-dominance;
#X obj 645 545 s \$0-arousal;
#X obj 862 520 r \$0-arousal;
#X obj 645 521 * 2;
#X obj 416 601 r \$0-arousal;
#X msg 416 625 2 \$1;
#X obj 416 649 pow;
#X obj 416 673 * 40;
#X text 416 581 Arousal controls tempo from 10 to 160 bpm;
#X msg 962 676 wet 1 \, pre 0 \, cut 0 \, damp 0.25 \, size 0.7;
#X obj 746 729 hip~ 400;
#X obj 846 729 hip~ 400;
#X text 724 193 1 = fear \; 2 = hate \; 3 = disgust \; 4 = surprise \; 5 = hapiness \; 6 = sadness \;;
#X obj 881 -10 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 881 14 metro 10000;
#X obj 881 38 random 6;
#X obj 881 62 + 1;
#X obj 746 753 lop~ 3000;
#X obj 846 753 lop~ 3000;
#X obj 729 386 r \$0-;
#X floatatom 1203 51 5 0 0 0 - - - 0;
#X msg 416 697 60000 40;
#X obj 604 10 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 604 58 random 6;
#X obj 604 82 + 1;
#X obj 604 34 metro 5000;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 4 0 9 0;
#X connect 5 0 30 0;
#X connect 6 0 5 1;
#X connect 6 1 5 0;
#X connect 7 0 35 0;
#X connect 7 0 48 0;
#X connect 8 0 7 1;
#X connect 8 1 7 0;
#X connect 9 0 6 0;
#X connect 9 1 37 0;
#X connect 9 1 50 0;
#X connect 10 1 13 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 13 0 11 0;
#X connect 13 1 14 1;
#X connect 19 0 18 0;
#X connect 20 0 17 0;
#X connect 22 0 77 0;
#X connect 30 0 8 0;
#X connect 30 1 36 0;
#X connect 30 1 49 0;
#X connect 32 1 38 0;
#X connect 33 0 34 0;
#X connect 34 0 32 0;
#X connect 39 0 42 0;
#X connect 40 0 39 0;
#X connect 41 0 43 0;
#X connect 42 0 41 0;
#X connect 43 0 44 0;
#X connect 44 0 51 0;
#X connect 45 0 46 0;
#X connect 47 0 20 0;
#X connect 47 0 19 0;
#X connect 52 0 47 0;
#X connect 56 0 57 0;
#X connect 57 0 58 0;
#X connect 58 1 59 0;
#X connect 59 0 60 0;
#X connect 59 1 62 0;
#X connect 59 2 64 0;
#X connect 60 0 61 0;
#X connect 60 0 83 0;
#X connect 61 0 60 1;
#X connect 62 0 63 0;
#X connect 62 0 84 0;
#X connect 63 0 62 1;
#X connect 64 0 65 0;
#X connect 64 0 85 0;
#X connect 65 0 64 1;
#X connect 66 0 65 0;
#X connect 66 0 61 0;
#X connect 66 0 63 0;
#X connect 66 0 65 1;
#X connect 68 0 69 0;
#X connect 69 0 74 0;
#X connect 70 0 71 0;
#X connect 71 0 72 0;
#X connect 72 0 69 1;
#X connect 72 1 73 0;
#X connect 74 0 75 0;
#X connect 74 0 76 0;
#X connect 75 0 74 1;
#X connect 77 0 98 0;
#X connect 77 0 99 0;
#X connect 78 0 79 0;
#X connect 79 0 98 0;
#X connect 79 1 99 0;
#X connect 80 0 97 0;
#X connect 83 0 87 0;
#X connect 84 0 88 0;
#X connect 85 0 91 0;
#X connect 91 0 89 0;
#X connect 92 0 93 0;
#X connect 93 0 94 0;
#X connect 94 0 95 0;
#X connect 95 0 109 0;
#X connect 95 0 108 0;
#X connect 97 0 79 0;
#X connect 98 0 105 0;
#X connect 99 0 106 0;
#X connect 101 0 102 0;
#X connect 102 0 103 0;
#X connect 103 0 104 0;
#X connect 104 0 4 0;
#X connect 105 0 20 0;
#X connect 106 0 19 0;
#X connect 109 0 70 0;
#X connect 110 0 113 0;
#X connect 111 0 112 0;
#X connect 112 0 45 0;
#X connect 113 0 111 0;
