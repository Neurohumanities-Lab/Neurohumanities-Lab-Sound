#N canvas 354 279 965 329 10;
#X obj 311 53 inlet~;
#X obj 418 54 inlet~;
#X obj 485 54 inlet~;
#X obj 311 290 outlet~;
#X obj 637 49 inlet;
#N canvas 829 328 450 300 in 0;
#X obj 37 13 inlet;
#N canvas 698 515 200 251 route 0;
#X obj 20 20 inlet;
#X obj 30 60 route save recall;
#X obj 30 85 route float;
#X obj 97 111 route float;
#X obj 30 136 s \$0-save;
#X obj 30 108 i;
#X obj 98 133 i;
#X obj 98 161 s \$0-recall;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X restore 92 43 pd route save-recall;
#N canvas 362 125 450 479 recall 0;
#X obj 49 145 outlet;
#N canvas 3 54 450 600 listsplit 0;
#X obj 158 23 inlet;
#X obj 220 87 list length;
#X obj 220 113 until;
#X obj 182 150 f;
#X obj 278 150 + 1;
#X msg 265 111 0;
#X obj 182 226 list store;
#X msg 182 202 get \$1 1;
#X obj 154 367 list split;
#X obj 222 342 f;
#X obj 154 334 list;
#X obj 98 124 list;
#X obj 182 389 list split 1;
#X obj 154 274 t bang bang bang;
#X obj 182 179 t f f;
#X obj 158 48 t l l l b;
#X obj 154 473 outlet;
#X obj 154 440 list trim;
#X obj 163 248 sel |;
#X text 275 197 hacky split list at "|";
#X connect 0 0 15 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 14 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 18 0;
#X connect 7 0 6 0;
#X connect 8 0 17 0;
#X connect 8 1 12 0;
#X connect 9 0 8 1;
#X connect 10 0 8 0;
#X connect 11 0 15 0;
#X connect 12 1 11 0;
#X connect 13 0 10 0;
#X connect 13 1 9 0;
#X connect 13 2 2 1;
#X connect 14 0 7 0;
#X connect 14 1 9 1;
#X connect 15 0 1 0;
#X connect 15 1 10 1;
#X connect 15 2 6 1;
#X connect 15 3 5 0;
#X connect 17 0 16 0;
#X connect 18 0 13 0;
#X restore 49 117 pd listsplit;
#X obj 49 24 r \$0-recall;
#X obj 49 54 pipe 1;
#X obj 221 409 text fromlist \$0-savestates;
#X obj 49 77 text get \$0-savestates;
#X msg 253 246 21;
#X obj 253 269 until;
#X obj 253 292 f;
#X obj 300 295 + 1;
#X obj 253 315 t b f;
#X obj 253 367 text set \$0-savestates;
#X obj 221 114 text tolist \$0-savestates;
#X msg 253 342 list empty_slot;
#X obj 221 160 t a b;
#X obj 151 166 loadbang;
#X obj 221 137 savestate;
#X obj 221 33 text define \$0-savestates;
#X obj 151 189 del 0;
#X msg 298 199 0;
#X obj 253 220 spigot 1;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 10 0 13 0;
#X connect 10 1 11 1;
#X connect 12 0 16 0;
#X connect 13 0 11 0;
#X connect 14 0 4 0;
#X connect 14 1 19 0;
#X connect 15 0 18 0;
#X connect 16 0 14 0;
#X connect 16 1 12 0;
#X connect 18 0 20 0;
#X connect 19 0 20 1;
#X connect 20 0 6 0;
#X restore 163 64 pd recall;
#X obj 37 122 s \$0-shiftr;
#X obj 98 148 s \$0-resonancer;
#X obj 159 175 s \$0-stagesr;
#X obj 37 95 route shift resonance stages dry/wet;
#X obj 204 129 s \$0-drywetr;
#X connect 0 0 1 0;
#X connect 0 0 6 0;
#X connect 2 0 6 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X connect 6 2 5 0;
#X connect 6 3 7 0;
#X restore 637 72 pd in;
#N canvas 519 277 812 357 smallblock 0;
#X obj 65 62 inlet~;
#X obj 65 336 outlet~;
#X obj 203 121 *~;
#N canvas 358 338 568 366 rotate 0;
#X obj 192 107 inlet~;
#X obj 192 253 *~;
#X obj 249 256 *~;
#X obj 305 156 cos~;
#X obj 342 133 +~ -0.25;
#X obj 342 156 cos~;
#X obj 342 179 *~ -1;
#X obj 191 280 +~;
#X obj 191 303 outlet~;
#X obj 305 105 inlet~;
#N canvas 220 72 637 401 olli 0;
#X obj 292 117 inlet~;
#X obj 43 299 outlet~;
#X obj 293 304 outlet~;
#X obj 43 174 biquad~ 0 0.161758 0.161758 0 -1;
#X obj 43 203 biquad~ 0 0.733029 0.733029 0 -1;
#X obj 43 235 biquad~ 0 0.94535 0.94535 0 -1;
#X obj 43 262 biquad~ 0 0.990598 0.990598 0 -1;
#X obj 293 177 biquad~ 0 0.479401 0.479401 0 -1;
#X obj 293 207 biquad~ 0 0.876218 0.876218 0 -1;
#X obj 293 239 biquad~ 0 0.976599 0.976599 0 -1;
#X obj 293 267 biquad~ 0 0.9975 0.9975 0 -1;
#X text 95 300 first phase;
#X text 349 303 second phase;
#X text 177 302 << 90 degree >>;
#X obj 293 150 rzero_rev~ 0;
#X text 40 43 Olli Niemitalo's quadrature transform coefficients;
#X text 39 78 http://yehar.com/blog/?p=368;
#X text 39 63 http://www.katjaas.nl/hilbert/hilbert.html;
#X connect 0 0 3 0;
#X connect 0 0 14 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 14 0 7 0;
#X restore 192 161 pd olli;
#X connect 0 0 10 0;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X connect 7 0 8 0;
#X connect 9 0 3 0;
#X connect 9 0 4 0;
#X connect 10 0 1 0;
#X connect 10 1 2 0;
#X restore 204 169 pd rotate;
#X obj 204 53 expr~ tanh($v1);
#X obj 508 118 inlet~;
#X obj 546 157 inlet~;
#X obj 218 98 r \$0-resonance;
#X obj 649 28 block~ 1;
#X obj 65 213 +~;
#X obj 204 32 *~ 0.25;
#X obj 204 76 *~ 4;
#N canvas 2 54 450 388 \$0-allpass-l 0;
#X obj 100 18 inlet~;
#X obj 255 20 inlet~;
#X obj 16 90 outlet~;
#X restore 205 196 pd \$0-allpass-l;
#N canvas 358 338 568 366 rotate 0;
#X obj 192 107 inlet~;
#X obj 192 253 *~;
#X obj 249 256 *~;
#X obj 305 156 cos~;
#X obj 342 133 +~ -0.25;
#X obj 342 156 cos~;
#X obj 342 179 *~ -1;
#X obj 191 280 +~;
#X obj 191 303 outlet~;
#X obj 305 105 inlet~;
#N canvas 220 72 637 401 olli 0;
#X obj 292 117 inlet~;
#X obj 43 299 outlet~;
#X obj 293 304 outlet~;
#X obj 43 174 biquad~ 0 0.161758 0.161758 0 -1;
#X obj 43 203 biquad~ 0 0.733029 0.733029 0 -1;
#X obj 43 235 biquad~ 0 0.94535 0.94535 0 -1;
#X obj 43 262 biquad~ 0 0.990598 0.990598 0 -1;
#X obj 293 177 biquad~ 0 0.479401 0.479401 0 -1;
#X obj 293 207 biquad~ 0 0.876218 0.876218 0 -1;
#X obj 293 239 biquad~ 0 0.976599 0.976599 0 -1;
#X obj 293 267 biquad~ 0 0.9975 0.9975 0 -1;
#X text 95 300 first phase;
#X text 349 303 second phase;
#X text 177 302 << 90 degree >>;
#X obj 293 150 rzero_rev~ 0;
#X text 40 43 Olli Niemitalo's quadrature transform coefficients;
#X text 39 78 http://yehar.com/blog/?p=368;
#X text 39 63 http://www.katjaas.nl/hilbert/hilbert.html;
#X connect 0 0 3 0;
#X connect 0 0 14 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 14 0 7 0;
#X restore 192 161 pd olli;
#X connect 0 0 10 0;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X connect 7 0 8 0;
#X connect 9 0 3 0;
#X connect 9 0 4 0;
#X connect 10 0 1 0;
#X connect 10 1 2 0;
#X restore 458 207 pd rotate;
#N canvas 2 54 450 388 \$0-allpass-r 0;
#X obj 100 18 inlet~;
#X obj 255 20 inlet~;
#X obj 16 90 outlet~;
#X restore 459 234 pd \$0-allpass-r;
#X obj 97 270 delwrite~ \$0-back-l;
#X obj 204 11 delread~ \$0-back-l;
#X obj 458 115 *~;
#X obj 459 47 expr~ tanh($v1);
#X obj 473 92 r \$0-resonance;
#X obj 459 26 *~ 0.25;
#X obj 459 70 *~ 4;
#X obj 459 5 delread~ \$0-back-r;
#X obj 405 285 delwrite~ \$0-back-r;
#X obj 360 251 +~;
#X obj 359 58 inlet~;
#X obj 360 335 outlet~;
#X connect 0 0 3 0;
#X connect 0 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 12 0;
#X connect 4 0 11 0;
#X connect 5 0 3 1;
#X connect 5 0 13 1;
#X connect 6 0 12 1;
#X connect 6 0 14 1;
#X connect 7 0 2 1;
#X connect 9 0 1 0;
#X connect 9 0 15 0;
#X connect 10 0 4 0;
#X connect 11 0 2 0;
#X connect 12 0 9 1;
#X connect 13 0 14 0;
#X connect 14 0 24 1;
#X connect 16 0 10 0;
#X connect 17 0 13 0;
#X connect 18 0 21 0;
#X connect 19 0 17 1;
#X connect 20 0 18 0;
#X connect 21 0 17 0;
#X connect 22 0 20 0;
#X connect 24 0 23 0;
#X connect 24 0 26 0;
#X connect 25 0 13 0;
#X connect 25 0 24 0;
#X restore 369 212 pd smallblock;
#X text 310 36 signal;
#X text 420 35 shift;
#N canvas 513 170 666 300 stuff 0;
#X obj 320 19 loadbang;
#X obj 320 42 f \$1;
#X obj 320 86 sel 0;
#X msg 320 107 4;
#X obj 347 139 s \$0-max-allps;
#X obj 127 133 s \$0-visbngr;
#X obj 109 31 r \$0-visbng;
#X msg 127 108 color 0 0;
#X msg 200 108 color 10 10;
#X obj 109 53 t b;
#X obj 200 85 del 250;
#X msg 109 167 relocate 230x135+1+1 1x1+50+60 \, vis 1;
#X obj 109 189 s pd-\$0-shepphaser;
#X obj 474 45 r \$0-max-allps;
#X msg 474 76 range 0 \$1;
#X obj 474 99 s \$0-harmguir;
#X msg 390 42 100;
#X obj 390 65 s \$0-drywetr;
#X obj 320 64 clip 0 100;
#X obj 484 126 s \$0-stagesr;
#X connect 0 0 1 0;
#X connect 0 0 16 0;
#X connect 1 0 18 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 4 0;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 7 0;
#X connect 9 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 0 19 0;
#X connect 16 0 17 0;
#X connect 18 0 2 0;
#X restore 637 131 pd stuff;
#N canvas 50 88 230 135 \$0-shepphaser 0;
#N canvas 166 352 714 345 mask 0;
#X obj 100 100 cnv 15 219 129 empty empty empty 20 12 0 14 -262144
-66577 0;
#X obj 112 158 hsl 128 12 0 0.99 0 0 \$0-resgui \$0-resguir Resonance
-2 -6 2 10 -262144 -1 -1 0 1;
#X obj 246 158 nbx 5 12 -1e+17 1e+17 0 0 \$0-resonance \$0-resonancer
empty 47 7 2 10 -262144 -1 -1 0 256;
#X obj 208 111 cnv 10 10 10 empty empty shepphaser~ 0 5 2 14 -262144
-162280 0;
#X msg 49 153 set \$1;
#X obj 112 132 hsl 128 12 0 1 0 0 \$0-shiftgui \$0-shiftguir Shift
-2 -6 2 10 -262144 -1 -1 0 1;
#X obj 246 132 nbx 5 12 -1e+17 1e+17 0 0 \$0-shift \$0-shiftr empty
47 7 2 10 -262144 -1 -1 0 256;
#X msg 49 127 set \$1;
#X obj 112 185 hsl 128 12 0 4 0 0 \$0-harmgui \$0-harmguir Stages -2
-6 2 10 -262144 -1 -1 0 1;
#X obj 246 185 nbx 5 12 0 4 0 0 \$0-stages \$0-stagesr empty 47 7 2
10 -262144 -1 -1 0 256;
#X msg 49 180 set \$1;
#X obj 246 210 nbx 4 12 0 100 0 0 \$0-drywet \$0-drywetr % 41 7 2 10
-262144 -1 -1 100 256;
#X obj 207 211 cnv 10 10 10 empty empty Dry/Wet 0 5 2 10 -262144 -1
0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X coords 0 -1 1 1 220 130 2 100 100;
#X restore 5 2 pd mask;
#X restore 637 108 pd \$0-shepphaser;
#X obj 103 115 hsl 150 15 0 127 0 0 \$0-visbng \$0-visbngr empty 50
8 2 10 -233017 -233017 -1 0 1;
#X obj 485 184 +~;
#X obj 511 184 line~;
#X msg 511 161 \$1 100;
#X obj 418 146 +~;
#X obj 444 144 line~;
#X msg 444 121 \$1 100;
#X obj 444 98 r \$0-shift;
#N canvas 582 134 781 631 outlet-message 0;
#X obj 258 383 list trim;
#X msg 178 381 addcomma;
#X msg 114 366 set;
#X obj 258 360 list prepend add2;
#X obj 258 446 outlet;
#N canvas 153 379 986 300 bang_once................. 0;
#X obj 132 87 t b f;
#X obj 89 139 del 0;
#X obj 89 87 t b f;
#X obj 175 89 t b f;
#X obj 89 41 inlet;
#X obj 132 40 inlet;
#X obj 175 42 inlet;
#X obj 89 247 outlet;
#X obj 89 173 f;
#X obj 221 89 t b f;
#X obj 221 42 inlet;
#X obj 89 203 pack 0 0 0 100;
#X connect 0 0 1 0;
#X connect 0 1 11 1;
#X connect 1 0 8 0;
#X connect 2 0 1 0;
#X connect 2 1 8 1;
#X connect 3 0 1 0;
#X connect 3 1 11 2;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 6 0 3 0;
#X connect 8 0 11 0;
#X connect 9 0 1 0;
#X connect 9 1 11 3;
#X connect 10 0 9 0;
#X connect 11 0 7 0;
#X restore 190 203 pd bang_once.................;
#X obj 190 231 t b a b;
#X obj 255 298 t b a a;
#N canvas 497 319 297 264 save 0;
#X obj 48 16 inlet;
#N canvas 690 259 481 384 collect 0;
#X obj 47 60 inlet;
#X obj 47 274 outlet;
#X obj 98 180 list;
#X obj 166 181 t l;
#X obj 47 225 list;
#X obj 98 139 list append |;
#X obj 47 126 del 0;
#X obj 47 82 t b a;
#X text 119 75 hacky thing... replaycing " \, " with "|";
#X connect 0 0 7 0;
#X connect 2 0 3 0;
#X connect 2 0 4 1;
#X connect 3 0 2 1;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 2 1;
#X connect 6 0 4 0;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X restore 48 38 pd collect;
#X obj 117 16 r \$0-save;
#X obj 27 130 text set \$0-savestates;
#X obj 27 104 list;
#X obj 117 62 t b f;
#X obj 117 39 clip 0 20;
#X connect 0 0 1 0;
#X connect 1 0 4 1;
#X connect 2 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 5 1 3 1;
#X connect 6 0 5 0;
#X restore 294 323 pd save;
#X obj 190 84 r \$0-shift;
#X obj 275 109 r \$0-resonance;
#X obj 361 139 r \$0-stages;
#X obj 393 172 r \$0-drywet;
#X msg 255 261 shift \$1 \, resonance \$2 \, stages \$3 \, dry/wet
\$4;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 6 1 13 0;
#X connect 6 2 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 7 2 8 0;
#X connect 9 0 5 0;
#X connect 10 0 5 1;
#X connect 11 0 5 2;
#X connect 12 0 5 3;
#X connect 13 0 7 0;
#X restore 633 263 pd outlet-message;
#X obj 633 286 outlet;
#N canvas 515 197 811 474 create-allpass 0;
#X obj 322 128 until;
#X obj 322 149 f;
#X obj 351 150 + 1;
#X obj 322 195 * 20;
#X obj 322 218 + 100;
#X obj 348 247 + 3;
#X obj 403 221 + 1;
#X obj 153 184 + 2;
#X obj 205 143 until;
#X obj 205 164 f;
#X obj 234 165 + 1;
#X obj 205 249 pack;
#X obj 205 188 t f f;
#X obj 205 216 + 3;
#X obj 236 223 + 4;
#X msg 205 272 connect \$1 0 \$2 0;
#X obj 205 121 - 1;
#X msg 153 305 connect \$1 0 2 0;
#X obj 322 172 t f f f f, f 14;
#X obj 322 273 pack f f f f, f 14;
#X obj 138 13 r \$0-max-allps;
#X obj 138 36 t b f f f;
#X msg 44 212 connect 0 0 3 0;
#X msg 322 301 obj 100 \$1 pp.shepphaser~-allp \$3 \$4 \, connect 1
0 \$2 1 \,;
#X obj 153 372 s pd-\$0-allpass-l;
#X obj 286 373 s pd-\$0-allpass-r;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 18 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 19 0;
#X connect 5 0 19 1;
#X connect 6 0 19 3;
#X connect 7 0 17 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 15 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 11 0;
#X connect 14 0 11 1;
#X connect 15 0 24 0;
#X connect 15 0 25 0;
#X connect 16 0 8 0;
#X connect 17 0 24 0;
#X connect 17 0 25 0;
#X connect 18 0 3 0;
#X connect 18 1 5 0;
#X connect 18 2 19 2;
#X connect 18 3 6 0;
#X connect 19 0 23 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 7 0;
#X connect 21 2 16 0;
#X connect 21 3 0 0;
#X connect 22 0 24 0;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 23 0 25 0;
#X restore 637 153 pd create-allpass;
#X obj 511 138 r \$0-stages;
#X text 484 35 stages;
#N canvas 2 54 379 372 dry/wet 0;
#X obj 53 26 inlet~;
#X obj 245 31 inlet~;
#X obj 280 126 line~;
#X obj 280 100 pack 0 30;
#X obj 280 77 / 100;
#X obj 155 119 sig~ 1;
#X obj 155 144 -~;
#X obj 280 54 r \$0-drywet;
#X obj 52 304 outlet~;
#X obj 52 223 *~;
#X obj 246 219 *~;
#X obj 118 29 inlet~;
#X obj 117 231 *~;
#X obj 197 30 inlet~;
#X obj 198 221 *~;
#X obj 116 306 outlet~;
#X connect 0 0 9 0;
#X connect 1 0 10 0;
#X connect 2 0 6 1;
#X connect 2 0 10 1;
#X connect 2 0 14 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 6 0 12 1;
#X connect 7 0 4 0;
#X connect 9 0 8 0;
#X connect 10 0 15 0;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 14 0 8 0;
#X restore 311 260 pd dry/wet;
#X f 15;
#X text 756 262 philipp schmalfuß 2019;
#X obj 358 52 inlet~;
#X obj 398 292 outlet~;
#X connect 0 0 6 0;
#X connect 0 0 24 0;
#X connect 1 0 15 0;
#X connect 2 0 12 0;
#X connect 4 0 5 0;
#X connect 6 0 24 2;
#X connect 6 1 24 3;
#X connect 12 0 6 3;
#X connect 13 0 12 1;
#X connect 14 0 13 0;
#X connect 15 0 6 2;
#X connect 16 0 15 1;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 22 0 14 0;
#X connect 24 0 3 0;
#X connect 24 1 27 0;
#X connect 26 0 6 1;
#X connect 26 0 24 1;
#X coords 0 -1 1 1 155 33 1 100 100;
